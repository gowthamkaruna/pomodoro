(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(39)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(14),c=a.n(s),o=a(18),l=a(41),i=a(15),u=a(16),m=a(20),d=a(19),f=(a(28),Object(n.memo)(function(e){var t=e.types,a=e.changeType,n=e.selected;return r.a.createElement("div",{className:"TypeSelect"},t.map(function(e,t){return r.a.createElement("button",{key:e.name,onClick:function(){return a(e)},className:e.name===n.name?"active":""},e.name)}))}));function v(e){return e>9?e:"0".concat(e)}function p(e){var t=v(Math.floor(e/60)),a=v(Math.floor(e%60));return"".concat(t,":").concat(a)}a(29);var g=function(e){var t=e.time,a=e.status,n=e.progress;document.title="(".concat(p(t),") Pomodoro");var s=280*Math.PI,c=s-n/100*s;return r.a.createElement("div",{className:"TimeDisplay"},r.a.createElement("svg",{width:"100%",viewBox:"0 0 ".concat(300," ").concat(300)},r.a.createElement("circle",{stroke:"#ddd",fill:"#fff",strokeWidth:5,r:140,cx:150,cy:150}),r.a.createElement("circle",{stroke:"#D9534F",fill:"transparent",strokeWidth:5,strokeDasharray:s+" "+s,style:{strokeDashoffset:c},r:140,cx:150,cy:150})),r.a.createElement("div",null,r.a.createElement("h1",null,p(t)),r.a.createElement("p",null,a)))},k=(a(30),Object(n.memo)(function(e){var t=e.start,a=e.reset,n=e.pause,s=e.status;return r.a.createElement("div",{className:"Controls"},!s&&r.a.createElement("button",{onClick:t,className:"start"},"Start Timer"),"Finished"===s&&r.a.createElement("button",{onClick:t,className:"start"},"Restart Timer"),("Paused"===s||"Running"===s)&&r.a.createElement("div",null,r.a.createElement("button",{onClick:a,className:"reset"},"Reset"),r.a.createElement("button",{onClick:n,className:"Paused"===s?"resume":"pause"},"Paused"===s?"Resume":"Pause")))})),E=(a(31),Object(n.memo)(function(){return r.a.createElement("div",{className:"Shortcuts"},r.a.createElement("i",{className:"far fa-keyboard"}),r.a.createElement("div",{className:"Shortcuts-box"},r.a.createElement("div",{className:"Shortcut"},r.a.createElement("div",null,"Play / Pause / Resume"),r.a.createElement("div",null,r.a.createElement("kbd",null,"Space"))),r.a.createElement("div",{className:"Shortcut"},r.a.createElement("div",null,"Reset"),r.a.createElement("div",null,r.a.createElement("kbd",null,"Esc"))),r.a.createElement("div",{className:"Shortcut"},r.a.createElement("div",null,"Pomodoro"),r.a.createElement("div",null,r.a.createElement("kbd",null,"1"),r.a.createElement("kbd",null,"Num1"))),r.a.createElement("div",{className:"Shortcut"},r.a.createElement("div",null,"Short Break"),r.a.createElement("div",null,r.a.createElement("kbd",null,"2"),r.a.createElement("kbd",null,"Num2"))),r.a.createElement("div",{className:"Shortcut"},r.a.createElement("div",null,"Long Break"),r.a.createElement("div",null,r.a.createElement("kbd",null,"3"),r.a.createElement("kbd",null,"Num3")))))})),h=(a(32),Object(n.memo)(function(e){var t=e.sound,a=e.toggleSound;return r.a.createElement("button",{className:"ToggleSound ".concat(t&&"active"),onClick:a,title:t?"Disable Sound":"Enable Sound"},r.a.createElement("i",{className:"fa fa-volume-".concat(t?"up":"mute")}))})),T=(a(33),Object(n.memo)(function(e){var t=e.task,a=e.toggleTask;return r.a.createElement("button",{className:"ToggleTask ".concat(t&&"active"),onClick:a,title:t?"Disable Task":"Enable Task"},r.a.createElement("i",{className:"fa fa-tasks"}))})),b=a(4),S=a(11),y=Object(n.createContext)({}),N=a(42),O=a(43);a(34);function j(e){var t=e.task,a=e.index,s=Object(n.useRef)(),c=Object(n.useContext)(y),o=c.move,l=c.handleStatus,i=Object(N.a)({item:{type:"TASK",id:t.id,index:a},collect:function(e){return{isDragging:e.isDragging()}}}),u=Object(b.a)(i,2),m=u[0].isDragging,d=u[1],f=Object(O.a)({accept:"TASK",hover:function(e,n){if(e.id!==t.id){var r=e,c=t,l=s.current.getBoundingClientRect(),i=(l.bottom-l.top)/2,u=n.getClientOffset().y-l.top;r.order<c.order&&u<i||r.order>c.order&&u>i||(o(e.index,a),e.index=a)}}});return d((0,Object(b.a)(f,2)[1])(s)),r.a.createElement("div",{ref:s,className:m?"Task Dragging":"Task"},r.a.createElement("div",null,t.title),r.a.createElement("span",{onClick:function(){return l(t)}},t.closed?"Open":"Close"))}a(36);var w=Object(n.memo)(function(e){e.selectedTaskType;var t=Object(n.useState)(""),a=Object(b.a)(t,2),s=a[0],c=a[1],o=[{name:"All",value:-1},{name:"Open",value:!1},{name:"Closed",value:!0}],l=Object(n.useState)(JSON.parse(window.localStorage.getItem("pomodoro-react-tasks"))||[]),i=Object(b.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)(o[0]),v=Object(b.a)(d,2),p=v[0],g=v[1];return Object(n.useEffect)(function(){window.localStorage.setItem("pomodoro-react-tasks",JSON.stringify(u))},[u]),r.a.createElement(y.Provider,{value:{tasks:u,move:function(e,t){m(Object(S.a)(u,function(a){var n=a[e];a.splice(e,1),a.splice(t,0,n)}))},handleStatus:function(e){console.log("task:",e),m(Object(S.a)(u,function(t){var a=t.findIndex(function(t){return t.id===e.id});t[a].closed=!t[a].closed}))}}},r.a.createElement(f,{types:o,selected:p,changeType:g}),r.a.createElement("div",{className:"Tasks"},r.a.createElement("div",{className:"Tasks-box"},u.length>0?u.filter(function(e){return e.closed===p.value||-1===p.value}).map(function(e,t){return r.a.createElement(j,{key:e.id,index:t,task:e})}):r.a.createElement("div",{className:"Task"},"No Tasks"))),r.a.createElement("div",{className:"Task"},r.a.createElement("input",{value:s,onChange:function(e){return c(e.target.value)},placeholder:"New Task"}),r.a.createElement("span",{onClick:function(){m(Object(S.a)(u,function(e){e.push({id:e.length+1,title:s,closed:!1})})),c("")}},"Add")))}),C=(a(38),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleKeyUp=function(e){"INPUT"!==e.target.tagName&&(" "===e.key?n.pauseTimer():"Escape"===e.key?n.resetTimer():e.key>=1&&e.key<=n.props.types.length&&n.changeType(n.props.types[e.key-1]))},n.changeType=function(e){n.resetTimer(),n.setState({selectedType:e,time:e.time,running:!1})},n.tick=function(){if(n.state.time<=1){n.stopInterval(),n.setState({running:!1}),n.state.sound&&n.sound.play();try{navigator.serviceWorker.register("service-worker.js").then(function(e){e.showNotification("".concat(n.state.selectedType.name," finished!"))})}catch(e){console.log("Notification error",e)}}n.setState(function(e){return{time:e.time-1}})},n.stopInterval=function(){clearInterval(n.state.interval),n.setState({interval:null})},n.startTimer=function(){n.setState(function(e){return{running:!0,interval:setInterval(n.tick,1e3),time:e.time>0?e.time:e.selectedType.time}}),n.sound.pause(),n.sound.currentTime=0},n.resetTimer=function(){n.stopInterval(),n.setState(function(e){return{time:e.selectedType.time,running:!1}})},n.pauseTimer=function(){n.state.interval?n.stopInterval():n.startTimer()},n.getStatus=function(){var e=n.state,t=e.time,a=e.running,r=e.interval;return 0===t?"Finished":a&&!r?"Paused":a?"Running":void 0},n.getProgress=function(){var e=n.state.time,t=n.state.selectedType.time;return(t-e)/t*100},n.handleToggleSound=function(){n.setState(function(e){return{sound:!e.sound}},function(){window.localStorage.setItem("pomodoro-react-sound",n.state.sound)})},n.handleToggleTask=function(){n.setState(function(e){return{taskStatus:!e.taskStatus}},function(){window.localStorage.setItem("pomodoro-react-taskStatus",n.state.taskStatus)})},n.state={selectedType:e.types[0],time:e.types[0].time,interval:null,running:!1,sound:JSON.parse(window.localStorage.getItem("pomodoro-react-sound"))||!0,taskStatus:JSON.parse(window.localStorage.getItem("pomodoro-react-taskStatus"))||null},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.handleKeyUp),Notification.requestPermission(),this.sound=new Audio("bell.flac"),this.sound.preload="auto"}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function(){var e=this.state,t=e.time,a=e.selectedType,n=e.sound,s=e.taskStatus,c=this.props.types;return r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"Pomodoro"},r.a.createElement(f,{types:c,selected:a,changeType:this.changeType}),r.a.createElement(g,{time:t,status:this.getStatus(),progress:this.getProgress()}),r.a.createElement(k,{start:this.startTimer,reset:this.resetTimer,pause:this.pauseTimer,status:this.getStatus()}),r.a.createElement(T,{task:s,toggleTask:this.handleToggleTask}),r.a.createElement(E,null),r.a.createElement(h,{sound:n,toggleSound:this.handleToggleSound})),s&&r.a.createElement("div",{className:"TaskPainel"},r.a.createElement(w,null)))}}]),a}(n.Component));C.defaultProps={types:[{name:"Pomodoro",time:1500},{name:"Short Break",time:300},{name:"Long Break",time:900}]};var P=C;c.a.render(r.a.createElement(l.a,{backend:o.a},r.a.createElement(P,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.2f9938af.chunk.js.map